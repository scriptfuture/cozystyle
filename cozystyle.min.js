(function(k){k.fn.cozyStyle=function(p){function q(f,b){var a=b.gradient,e=k.trim(b.location),d=b.rounding,n=r(),a=k.trim(a),a=a.replace(RegExp(" ","g")," "),a=a.replace(RegExp(" ","g")," "),a=a.replace(RegExp(" ","g")," "),a=a.replace(RegExp(" ","g")," "),a=a.replace(RegExp(" ","g")," "),a=a.replace(RegExp(" ","g")," "),l=[];k.each(a.split(" "),function(){l.push(this.toString())});var a=l[0],c=l[1];if("Opera"!=n[0]||"MSIE"!=n[0]&&8>n[1]){var g="",h="";switch(e){case "top":g= "left top, left bottom";h="GradientType=0,startColorstr="+a+", endColorstr="+c;break;case "bottom":g="left bottom, left top";h="GradientType=0,startColorstr="+c+", endColorstr="+a;break;case "left":g="left top, right top";h="GradientType=1,startColorstr="+a+", endColorstr="+c;break;case "right":g="right top, left top";h="GradientType=1,startColorstr="+c+", endColorstr="+a;break;default:g="left top, left bottom",h="GradientType=0,startColorstr="+a+", endColorstr="+c}f.css({background:a,background:"-webkit-linear-gradient("+ e+", "+a+", "+c+")",background:"-o-linear-gradient("+e+", "+a+", "+c+")",background:"-ms-linear-gradient("+e+", "+a+", "+c+")",background:"linear-gradient("+e+", "+a+", "+c+")"}).css({background:"-moz-linear-gradient("+e+", "+a+", "+c+")"}).css({background:"-webkit-gradient(linear, "+g+", color-stop(0%,"+a+"), color-stop(100%,"+c+"))"}).css("filter","progid:DXImageTransform.Microsoft.gradient("+h+")")}else f.css({"background-color":b.nogradient});"MSIE"!=n[0]&&f.css({"-moz-border-radius":d}).css({"-khtml-border-radius":d}).css({"-webkit-border-radius":d}).css({"border-radius":d})} function r(f){var b=window.navigator.userAgent,a=/Version[ \/]+\w+\.\w+/i,e=/Safari\/\w+\.\w+/i,d=[],k=/[ \/\.]/i,a=b.match(a),l=b.match(/Firefox\/\w+\.\w+/i),c=b.match(/Chrome\/\w+\.\w+/i),g=b.match(/Version\/\w+\.\w+/i),e=b.match(e),h=b.match(/MSIE *\d+\.\w+/i),b=b.match(/Opera[ \/]+\w+\.\w+/i);""==!b&""==!a?d[0]=a[0].replace(/Version/,"Opera"):""==!b?d[0]=b[0]:""==!h?d[0]=h[0]:""==!l?d[0]=l[0]:""==!c?d[0]=c[0]:""==!g&&""==!e&&(d[0]=g[0].replace("Version","Safari"));var m;null!=d[0]&&(m=d[0].split(k)); return null==f&&null!=m?(f=m[2].length,m[2]=m[2].substring(0,f),m):!1}var s=k.extend({location:"top",gradient:"black white",nogradient:"#808080",rounding:"10px"},p);return this.each(function(){var f=k(this);new q(f,s)})}})(jQuery);
